(()=>{function d(a){a.directive("htmldialog",f);function f(e,{expression:r,modifiers:u},{evaluateLater:v,cleanup:g}){let s=r.length?v(r):()=>{},m=u.includes("noscroll");e.style.display=null,e.hidden=!1,e.style.length===0&&e.removeAttribute("style");function n(o=!0){document.body.style.overflow=o?"hidden":""}function i(o){o.key==="Escape"&&(o.preventDefault(),s())}function l(o){let t=e.getBoundingClientRect();t.top<=o.clientY&&o.clientY<=t.top+t.height&&t.left<=o.clientX&&o.clientX<=t.left+t.width||s()}function c(o){console.log("test if form is invalid.");let t=e.querySelector("form");t&&console.log("found a form",t),t&&!t.checkValidity()&&(o.preventDefault(),console.log("Form is invalid, preventing dialog close"))}e._x_doShow=()=>{e.hasAttribute("open")||(e.showModal(),document.addEventListener("keydown",i),e.addEventListener("click",l),e.addEventListener("close",c),console.log("added close event listener"),n(m))},e._x_doHide=()=>{!e.hasAttribute("open")||(e.close(),document.removeEventListener("keydown",i),e.removeEventListener("click",l),e.removeEventListener("close",c),console.log("Removed close event listener"),n(!1))},g(()=>{document.removeEventListener("keydown",i),e.removeEventListener("click",l),e.removeEventListener("close",c),n(!1)})}}document.addEventListener("alpine:init",()=>{window.Alpine.plugin(d)});})();
