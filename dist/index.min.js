(()=>{function d(a){a.directive("htmldialog",f);function f(e,{expression:r,modifiers:u},{evaluateLater:v,cleanup:g}){let s=r.length?v(r):()=>{},m=u.includes("noscroll");e.style.display=null,e.hidden=!1,e.style.length===0&&e.removeAttribute("style");function o(t=!0){document.body.style.overflow=t?"hidden":""}function i(t){t.key==="Escape"&&(t.preventDefault(),s())}function l(t){let n=e.getBoundingClientRect();n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width||s()}function c(t){console.log("test if form is invalid.");let n=e.querySelector("form");n&&console.log("found a form",n),n&&!n.checkValidity()&&(t.preventDefault(),console.log("Form is invalid, preventing dialog close"))}e._x_doShow=()=>{e.hasAttribute("open")||(e.showModal(),document.addEventListener("keydown",i),e.addEventListener("click",l),e.addEventListener("close",c),o(m))},e._x_doHide=()=>{!e.hasAttribute("open")||(e.close(),document.removeEventListener("keydown",i),e.removeEventListener("click",l),e.removeEventListener("close",c),o(!1))},g(()=>{document.removeEventListener("keydown",i),e.removeEventListener("click",l),e.removeEventListener("close",c),o(!1)})}}document.addEventListener("alpine:init",()=>{window.Alpine.plugin(d)});})();
