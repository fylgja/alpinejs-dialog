(()=>{function y(i){i.directive("htmldialog",r);function r(t,{expression:n,modifiers:c},{evaluateLater:s,cleanup:h}){let l=n.length?s(n):()=>{},L=n.length>0,m=c.includes("noscroll"),v=t.getAttribute("closeby")||w(c,"closeby","closerequest");t.style.display=null,t.style.length===0&&t.removeAttribute("style"),t._x_isShown&&p();let E=(()=>"closedBy"in HTMLDialogElement.prototype)();function u(e=!0){document.body.style.overflow=e?"hidden":""}function a(e){(e.target.getAttribute("method")==="dialog"||e.submitter?.getAttribute("formmethod")==="dialog")&&(e.preventDefault(),l())}function d(e){e.key==="Escape"&&(e.preventDefault(),l())}function f(e){if(e.target!==t)return;let o=t.getBoundingClientRect();o.top<=e.clientY&&e.clientY<=o.top+o.height&&o.left<=e.clientX&&e.clientX<=o.left+o.width||v==="any"&&(E&&e.preventDefault(),l())}function g(){l()}function p(){t.hasAttribute("open")||(t.showModal(),u(m))}function b(){!t.hasAttribute("open")||(t.close(),u(!1))}t._x_doShow=()=>p(),t._x_doHide=()=>b(),t.addEventListener("keydown",d),t.addEventListener("submit",a),t.addEventListener("click",f),t.addEventListener("cancel",g),h(()=>{t.removeEventListener("keydown",d),t.removeEventListener("submit",a),t.removeEventListener("click",f),t.removeEventListener("cancel",g),u(!1)})}}function w(i,r,t){if(i.indexOf(r)===-1)return t;let n=i[i.indexOf(r)+1];if(!n)return t;if(r==="closeby"){let c=["auto","none","closerequest","any"],s=c.join(", ");if(!c.includes(n))return console.warn(`"${n}" is not one of the allowed values for closeby: ${s}`),t}return n}document.addEventListener("alpine:init",()=>{window.Alpine.plugin(y)});})();
