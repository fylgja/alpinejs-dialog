(()=>{function h(i){i.directive("htmldialog",r);function r(t,{expression:n,modifiers:c},{evaluateLater:l,cleanup:m}){let s=n.length?l(n):()=>{},v=n.length>0,E=c.includes("noscroll"),a=t.getAttribute("closeby")||L(c,"closeby","closerequest");t.style.display=null,t.style.length===0&&t.removeAttribute("style"),t._x_isShown&&y();let b="closedBy"in HTMLDialogElement.prototype;function u(e=!0){document.body.style.overflow=e?"hidden":""}function d(e){(e.target.getAttribute("method")==="dialog"||e.submitter?.getAttribute("formmethod")==="dialog")&&(e.preventDefault(),s())}function f(e){e.key==="Escape"&&(a==="none"||!v)&&e.preventDefault()}function g(e){if(e.target!==t)return;let o=t.getBoundingClientRect();o.top<=e.clientY&&e.clientY<=o.top+o.height&&o.left<=e.clientX&&e.clientX<=o.left+o.width||a==="any"&&(b&&e.preventDefault(),s())}function p(){s()}function y(){t.hasAttribute("open")||(t.showModal(),u(E))}function w(){t.hasAttribute("open")&&(t.close(),u(!1))}t._x_doShow=()=>y(),t._x_doHide=()=>w(),t.addEventListener("keydown",f),t.addEventListener("submit",d),t.addEventListener("click",g),t.addEventListener("cancel",p),m(()=>{t.removeEventListener("keydown",f),t.removeEventListener("submit",d),t.removeEventListener("click",g),t.removeEventListener("cancel",p),u(!1)})}}function L(i,r,t){if(i.indexOf(r)===-1)return t;let n=i[i.indexOf(r)+1];if(!n)return t;if(r==="closeby"){let c=["auto","none","closerequest","any"],l=c.join(", ");if(!c.includes(n))return console.warn(`"${n}" is not one of the allowed values for closeby: ${l}`),t}return n}document.addEventListener("alpine:init",()=>{window.Alpine.plugin(h)});})();
